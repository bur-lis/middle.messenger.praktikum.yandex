<html>
{{>head}}
<body>
    {{>aside open=true}}
    <main>
        <header class="message-header">
            <div class="interlocutor">
                <div class="interlocutor__photo"></div>
                <label class="interlocutor__display-name">{{login_people.display_name}}</label>
            </div>
            <button class="button-img chat-menu-button">
                <img src="../../static/menu-dots-vertical.svg" />
            </button>
        </header>
        <section class="message__history">
            <ul class="history-list">
                {{#each message}}<li>

                    <label class="history-list__data-block">{{@key}}</label>
                    {{#each this}}
                    <div {{#if this.output}}class="history-list__message" {{else}} class="history-list__message--output"
                        {{/if}}>
                        <p class="message__text">{{this.message}}</p>
                        <label class="message__time">{{this.time}}</label>

                    </div>
                    {{/each}}
                </li>
                {{/each}}
        </section>
        <section class="message__send-block">
            <button class="button-img send-block___attach-file"> <img src="../../static/attach-file.svg" /></button>
            <textarea class="send-block__writing-textarea" placeholder="Сообщение"></textarea>
            <button class="send-block__send-button">➔</button>
        </section>
    </main>
</body>

</html>

<style>
    .history-list__message,
    .history-list__message--output {
        display: grid;
        max-width: 40%;
        width: auto;
        padding: 15px;
        margin: 20px;
        border-radius: 10px;
        font-size: 13px;
        align-items: end;
        grid-template-columns: 1fr 30px;
        grid-template-areas: 'message time';
    }

    .send-block__send-button {
        background: #3D6A95;
        color: white;
        border: none;
        width: 35px;
        height: 35px;
        border-radius: 20px;
        margin: auto;
        font-size: 18px;
    }

   

    .message__text {
        grid-area: message;
        margin: 0;
    }

    .send-block___attach-file {
        width: 5%;
    }

    .send-block___attach-file img {
        height: 30px;
    }

    .history-list__data-block {
        color: #999999;
        font-size: 12px;
        align-self: center;
    }

    .history-list__message {
        background-color: #F8FAFB;
        border-bottom-left-radius: 0;
        margin-right: auto;

    }

    .history-list__data-block {
        display: block;
        text-align: center;
    }


    .history-list__message--output {
        background-color: #DCE5F4;
        border-bottom-right-radius: 0;
        margin-left: auto;
    }

    .message__send-block {
        height: 90px;
        display: flex;
        align-items: center;
        border-top: 1px solid #EAEAEA;
        box-sizing: border-box;
        margin: 5px 20px;
    }

    textarea {
        width: 90%;
        height: 70px;
        background: #EFEFEF;
        border: none;
        border-radius: 10px;
        resize: none;
        padding: 10px;
    }

    textarea::placeholder {
        color: #999999;
        font-size: 13px;
        font-weight: 500;
    }

    .message__history {
        height: calc(100% - 180px);
        display: flex;
        align-items: end;
        overflow: hidden;
    }



    main {
        width: 100%;
        height: 100vh;
    }

    .history-list {
        margin: 0;
        padding: 0;
        list-style: none;
        height: 100%;
        overflow-y: auto;
    }

    header {
        width: calc(100% - 40px);
        margin: 5px 20px;
        height: 70px;
        border-bottom: 1px solid #EAEAEA;
        box-sizing: border-box;

    }

    .message-header {
        display: flex;
    }

    .chat-menu-button img {
        height: 20px;
    }

    .button-img {
        background: none;
        border: none;
        padding: 0;
    }

    .interlocutor {
        width: calc(100% - 30px);
        display: flex;
        align-items: center;
    }
</style>